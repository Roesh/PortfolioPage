@page
@model PortfolioPage.Pages.ProjectTracker.MyProjectsModel

@{
ViewData["Title"] = "Index";
}
<style>
    .grad-bg-1 {
        background-image: linear-gradient(5deg, #8400ac 0%, #007580 100%);
        border-color: grey;
        border-width: 3px;
        color: white;
    }

    .grad-bg-2 {
        background-image: linear-gradient(355deg, #8400ac 0%, #007580 100%);
        border-color: grey;
        color: white;
    }

    .bg-grey {
        background-color: grey;
        border-color: #8400ac;
    }

    .prj-title {
        color: grey;
    }
</style>

<div class="container-lg">
    <div class="row">
        <div class="col card grad-bg-1">
            <div class="row-cols-1">
                <div class="col-md-7 display-3 mb-2">
                    Project Dashboard
                </div>
                <div class="col mb-4 px-3">
                    Review ongoing and completed projects here
                </div>
            </div>
        </div>
    </div>
    <hr>

    <!-- Help user get started if there are no projects -->    
    <!-- https://stackoverflow.com/questions/24390005/checking-for-empty-or-null-liststring -->
    <!-- https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator -->
    @if(!Model.projectList?.Any() ?? false){
        <div class="row">
            <div class="col">
                <div class="display-4 mb-2">Create your first project:</div>
                <a asp-page="./Project/Create">
                <button class="btn btn-primary h2 my-2">
                    <i>New Project</i>
                </button>
                </a>
                <br>
                <p>You can learn more about the project management workflow and how the tracker works here</p>
            </div>
        </div>
    }
    else{
        <!-- https://getbootstrap.com/docs/4.4/layout/grid/#horizontal-alignment -->
        <div class="row mb-2">
            <div class="col-md-6 mb-2">
                <div class="display-4">Your ongoing projects</div>            
            </div>

            <div class="col-md-2 align-self-center ml-auto mb-2">
                <a asp-page="./Project/Create">
                    <button class="btn grad-bg-2 h2 mx-3 my-2 w-100">
                        <i>New Project</i>
                    </button>
                </a>
            </div>
        </div>
        
        <!--Template is:            
        -- Project name on row 1, left aligned
        -- Deadlines on row 1, left aligned. Status of project on row 2, right aligned-->
        <div class="row">
            <div class="col card grad-bg-2">
                <partial name="_ProjectCardPartial" />
            </div>        
        </div>
    }
</div>